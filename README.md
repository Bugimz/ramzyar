# 🔐 رمزیار (RamzYar)

مدیر رمز عبور مینیمال با Flutter و GetX که روی امنیت، رمزنگاری و تجربه کاربری سریع تمرکز دارد.

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![Flutter](https://img.shields.io/badge/Flutter-3.10+-02569B?logo=flutter)
![License](https://img.shields.io/badge/license-MIT-green)

---

## ✨ ویژگی‌ها

### امنیت و احراز هویت
- 🔑 **قفل با PIN** و **احراز هویت بیومتریک** (اثر انگشت/چهره) برای ورود مجدد.
- 🔄 **قفل خودکار قابل تنظیم** (۱ تا ۳۰ دقیقه) و امکان قفل دستی از هدر.
- 🧊 **محافظت از صفحه** برای جلوگیری از اسکرین‌شات و screen recording.
- 🛡️ **محدودیت تلاش (Rate limiting)**؛ پس از ۵ تلاش ناموفق، برنامه ۵ دقیقه قفل می‌شود.
- 📵 **قفل هنگام خروج از برنامه** و ریست تایمر با هر تعامل کاربر.

### ذخیره‌سازی و رمزنگاری
- 🔒 **رمزنگاری AES-256-CBC** برای تمام پسوردها با کلید و IV تصادفی ذخیره‌شده در Secure Storage.
- 🗄️ **SQLite** برای ذخیره داده‌ها با دسترسی از طریق `DbService` و رمزنگاری/رمزگشایی خودکار در CRUD.
- 🧭 **جست‌وجوی آنی** روی عنوان، نام کاربری و وب‌سایت به همراه نمایش آخرین سه رکورد.

### اتوماسیون و یکپارچگی
- 📋 **پیشنهاد ذخیره خودکار**: پایش کلیپ‌بورد در پس‌زمینه و نمایش دیالوگ ذخیره سریع (با درخواست مجوز SMS و معافیت باتری روی اندروید).
- 🤝 **پل Auto-fill بومی**: کش‌کردن آخرین اطلاعات ورود روی کانال platform برای استفاده سرویس‌های پرکردن خودکار.
- 🎛️ **تنظیمات درون برنامه**: تغییر تم (روشن/تاریک)، تنظیم قفل خودکار، کنترل محافظت صفحه و دسترسی به صفحه راهنما.

### تولید رمز
- ⚙️ **تولیدکننده رمز** با کنترل طول و انتخاب اعداد، نمادها، حروف بزرگ و کوچک، به همراه دکمه کپی سریع.

---

## 🧭 جریان کاربر
1. **نصب اولیه** → اگر PIN تنظیم نشده باشد، مستقیماً به صفحه `SetupPin` هدایت می‌شود.
2. **قفل** → در ورودهای بعدی یا پس از قفل خودکار، صفحه `LockScreen` نمایش داده می‌شود و می‌توان با PIN یا بیومتریک وارد شد.
3. **خانه** → پس از احراز هویت، تب **Vault** (مدیریت پسوردها) و تب **Generator** در دسترس است. هدایت ریشه با `RootRouter` انجام می‌شود.

---

## 🏗️ معماری
```
lib/
├── main.dart                  # بوت برنامه و Theme + Activity wrapper
├── bindings/                  # ثبت کنترلرها برای صفحات
├── controllers/               # منطق برنامه (Auth, Password, Generator, Theme, ...)
├── models/                    # مدل‌ها (PasswordEntry)
├── routes/                    # مسیرها و صفحه‌بندی GetX
├── screens/                   # UI صفحات (Setup PIN, Lock, Home, Help)
└── services/                  # سرویس‌ها (DB، رمزنگاری، پس‌زمینه، مجوزها، Autofill)
```
- **AuthController**: مدیریت PIN، بیومتریک، قفل خودکار، rate limit و Screen Secure.
- **PasswordController**: CRUD روی vault، جست‌وجو، تولید رمز، پایش کلیپ‌بورد و اتصال به Auto-fill.
- **EncryptionService**: تولید کلید ۲۵۶ بیتی و IV امن، رمزنگاری/رمزگشایی متن.
- **DbService**: لایه SQLite با رمزنگاری خودکار در خواندن/نوشتن.

---

## 🔧 نصب و اجرا
```bash
# کلون پروژه
git clone https://github.com/your-repo/ramzyar.git
cd ramzyar

# نصب وابستگی‌ها
flutter pub get

# اجرای دیباگ
flutter run
```
> روی اندروید، برای فعال کردن پایش پس‌زمینه و Auto-fill ممکن است نیاز به مجوز SMS و استثنا از محدودیت باتری داشته باشید.

---

## 📦 وابستگی‌ها
| پکیج                     | کاربرد                          |
| ------------------------ | ------------------------------- |
| `get`                    | مدیریت حالت و ناوبری            |
| `sqflite` + `path_provider` | دیتابیس SQLite و مسیر فایل     |
| `encrypt`                | رمزنگاری AES-256-CBC            |
| `flutter_secure_storage` | ذخیره امن کلید و IV             |
| `local_auth`             | احراز هویت بیومتریک             |
| `shared_preferences`     | تنظیمات (قفل خودکار، Auto-prompt، تم) |

---

## 📄 لایسنس
MIT License
